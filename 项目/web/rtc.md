# WebRTC 核心组件与连接建立

## 核心组件

### 1. 信令层 (Signaling)

- 负责连接协商和会话控制
- 传输 SDP、ICE 候选者信息
- 不传输实际媒体数据

### 2. 媒体层 (Media)

- 音视频采集、编解码、传输
- 使用 RTP/RTCP 协议
- 支持多种编解码器（VP8/VP9、H.264、Opus）

### 3. 网络层 (Network)

- ICE 进行 NAT 穿透
- STUN/TURN 服务器辅助连接
- DTLS 加密保证安全

## 连接建立流程

1. **信令连接**：建立 WebSocket 连接
2. **创建 Offer**：发起方生成 SDP 描述
3. **发送 Answer**：接收方确认媒体参数
4. **ICE 交换**：收集和交换网络候选者
5. **连通性检查**：选择最优连接路径
6. **媒体传输**：建立 P2P 连接，开始音视频传输

## 关键技术点

- **信令与媒体分离**：控制和数据通道独立优化
- **NAT 穿透**：ICE 框架解决网络连通性
- **安全传输**：DTLS/SRTP 端到端加密
- **自适应传输**：根据网络状况调整码率和质量
